2017-08-21 16:18:18 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:18:18 [scrapy.utils.log] INFO: Overridden settings: {'LOG_FILE': 'scrapy.log', 'BOT_NAME': 'myscrapy', 'SPIDER_MODULES': ['myscrapy.spiders'], 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders'}
2017-08-21 16:18:18 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2017-08-21 16:18:18 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:18:18 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:18:18 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:18:18 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:18:18 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:18:18 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:18:18 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:18:18 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:18:18 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:18:18 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:18:18 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:18:18 [scrapy.core.scraper] ERROR: Spider error processing <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/lwq/Desktop/myscrapy/myscrapy/spiders/one.py", line 27, in parse
    item['image_urls'] = response.xpath('.//img[@id="img"]').extract()[0]
IndexError: list index out of range
2017-08-21 16:18:18 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:18:18 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 18, 18, 860829),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 914157568,
 'memusage/startup': 914157568,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'spider_exceptions/IndexError': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 18, 18, 613093)}
2017-08-21 16:18:18 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:29:58 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:29:58 [scrapy.utils.log] INFO: Overridden settings: {'SPIDER_MODULES': ['myscrapy.spiders'], 'ROBOTSTXT_OBEY': True, 'BOT_NAME': 'myscrapy', 'LOG_FILE': 'scrapy.log', 'NEWSPIDER_MODULE': 'myscrapy.spiders'}
2017-08-21 16:29:58 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.memusage.MemoryUsage']
2017-08-21 16:29:58 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:29:58 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:29:58 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:29:58 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:29:58 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:29:58 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:29:58 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:29:58 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:29:58 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:29:58 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:29:58 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:29:58 [scrapy.core.scraper] ERROR: Error processing {'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': '<img style="position: relative; top: 1px; left: 2px;" '
               'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
               'height="12">',
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/media.py", line 79, in process_item
    requests = arg_to_iter(self.get_media_requests(item, info))
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in get_media_requests
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in <listcomp>
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: %3C
2017-08-21 16:29:58 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:29:58 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 29, 58, 525646),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 918122496,
 'memusage/startup': 918122496,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 29, 58, 364002)}
2017-08-21 16:29:58 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:30:14 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:30:14 [scrapy.utils.log] INFO: Overridden settings: {'BOT_NAME': 'myscrapy', 'SPIDER_MODULES': ['myscrapy.spiders'], 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'LOG_FILE': 'scrapy.log'}
2017-08-21 16:30:14 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.memusage.MemoryUsage']
2017-08-21 16:30:14 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:30:14 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:30:14 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:30:14 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:30:14 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:30:14 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:30:14 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:30:14 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:30:14 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:30:14 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:30:14 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:30:14 [scrapy.core.scraper] ERROR: Error processing {'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': '<img style="position: relative; top: 1px; left: 2px;" '
               'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
               'height="12">',
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/media.py", line 79, in process_item
    requests = arg_to_iter(self.get_media_requests(item, info))
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in get_media_requests
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in <listcomp>
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: %3C
2017-08-21 16:30:14 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:30:14 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 30, 14, 525953),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 918122496,
 'memusage/startup': 918122496,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 30, 14, 372645)}
2017-08-21 16:30:14 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:31:04 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:31:04 [scrapy.utils.log] INFO: Overridden settings: {'BOT_NAME': 'myscrapy', 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'LOG_FILE': 'scrapy.log', 'SPIDER_MODULES': ['myscrapy.spiders']}
2017-08-21 16:31:05 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
2017-08-21 16:31:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:31:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:31:05 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:31:05 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:31:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:31:05 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:31:05 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:05 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:05 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:05 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:31:05 [scrapy.core.scraper] ERROR: Error processing {'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': ['<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140222155840234.jpeg" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140222160217703.jpeg" alt="">',
                '<img src="test_files/20140223184151500.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223180446718.png" alt="">',
                '<img src="test_files/20140223180722687.png" alt="">',
                '<img src="test_files/20140223180822125.png" alt="">',
                '<img src="test_files/20140223185047812.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223184954390.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223193423843.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223202410593.png" alt="">',
                '<img src="test_files/20140223202712468.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223203218843.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223211204000.png" alt="">',
                '<img src="test_files/24442-20170816053533459-1918329004.png" '
                'alt="Udacity08.15 - 08.22" width="300" height="250">',
                '<img src="test_files/24442-20170629165247758-2056260207.bin" '
                'alt="极光推广_0701" width="468" height="60">',
                '<img src="test_files/xml.gif" alt="订阅">'],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/media.py", line 79, in process_item
    requests = arg_to_iter(self.get_media_requests(item, info))
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in get_media_requests
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in <listcomp>
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: %3Cimg%20src=%22test_files/20140222155840234.jpeg%22%20alt=%22%22%3E
2017-08-21 16:31:05 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:31:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 31, 5, 234881),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 918224896,
 'memusage/startup': 918224896,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 31, 5, 76338)}
2017-08-21 16:31:05 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:31:58 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:31:58 [scrapy.utils.log] INFO: Overridden settings: {'ROBOTSTXT_OBEY': True, 'BOT_NAME': 'myscrapy', 'LOG_FILE': 'scrapy.log', 'SPIDER_MODULES': ['myscrapy.spiders'], 'NEWSPIDER_MODULE': 'myscrapy.spiders'}
2017-08-21 16:31:58 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.logstats.LogStats']
2017-08-21 16:31:58 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:31:58 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:31:58 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:31:58 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:31:58 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:31:58 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:31:58 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:58 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:58 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:58 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:31:58 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:31:58 [scrapy.core.scraper] DEBUG: Scraped from <200 file:///home/lwq/Desktop/myscrapy/html/test.html>
{'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': [],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
2017-08-21 16:31:58 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:31:58 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 31, 58, 649758),
 'item_scraped_count': 1,
 'log_count/DEBUG': 6,
 'log_count/ERROR': 1,
 'log_count/INFO': 7,
 'memusage/max': 918487040,
 'memusage/startup': 918487040,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 31, 58, 470393)}
2017-08-21 16:31:58 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:32:29 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:32:29 [scrapy.utils.log] INFO: Overridden settings: {'BOT_NAME': 'myscrapy', 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'ROBOTSTXT_OBEY': True, 'SPIDER_MODULES': ['myscrapy.spiders'], 'LOG_FILE': 'scrapy.log'}
2017-08-21 16:32:29 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.corestats.CoreStats']
2017-08-21 16:32:29 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:32:29 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:32:29 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:32:29 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:32:29 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:32:29 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:32:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:32:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:32:30 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:32:30 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:32:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:32:30 [scrapy.core.scraper] DEBUG: Scraped from <200 file:///home/lwq/Desktop/myscrapy/html/test.html>
{'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': [],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
2017-08-21 16:32:30 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:32:30 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 32, 30, 147683),
 'item_scraped_count': 1,
 'log_count/DEBUG': 6,
 'log_count/ERROR': 1,
 'log_count/INFO': 7,
 'memusage/max': 918556672,
 'memusage/startup': 918556672,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 32, 29, 992623)}
2017-08-21 16:32:30 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:34:29 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:34:29 [scrapy.utils.log] INFO: Overridden settings: {'BOT_NAME': 'myscrapy', 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'SPIDER_MODULES': ['myscrapy.spiders'], 'LOG_FILE': 'scrapy.log'}
2017-08-21 16:34:29 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage']
2017-08-21 16:34:29 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:34:29 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:34:29 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:34:29 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:34:29 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:34:29 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:34:29 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:29 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:29 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:29 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:29 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:34:29 [scrapy.core.scraper] DEBUG: Scraped from <200 file:///home/lwq/Desktop/myscrapy/html/test.html>
{'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': [],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
2017-08-21 16:34:29 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:34:29 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 34, 29, 819650),
 'item_scraped_count': 1,
 'log_count/DEBUG': 6,
 'log_count/ERROR': 1,
 'log_count/INFO': 7,
 'memusage/max': 921444352,
 'memusage/startup': 921444352,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 34, 29, 667276)}
2017-08-21 16:34:29 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:34:44 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:34:44 [scrapy.utils.log] INFO: Overridden settings: {'LOG_FILE': 'scrapy.log', 'SPIDER_MODULES': ['myscrapy.spiders'], 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'BOT_NAME': 'myscrapy'}
2017-08-21 16:34:44 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2017-08-21 16:34:44 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:34:44 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:34:44 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:34:44 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:34:44 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:34:44 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:34:44 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:44 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:44 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:44 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:34:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:34:45 [scrapy.core.scraper] ERROR: Spider error processing <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/parsel/selector.py", line 222, in xpath
    **kwargs)
  File "src/lxml/lxml.etree.pyx", line 1587, in lxml.etree._Element.xpath (src/lxml/lxml.etree.c:61854)
  File "src/lxml/xpath.pxi", line 307, in lxml.etree.XPathElementEvaluator.__call__ (src/lxml/lxml.etree.c:178516)
  File "src/lxml/xpath.pxi", line 227, in lxml.etree._XPathEvaluatorBase._handle_result (src/lxml/lxml.etree.c:177421)
lxml.etree.XPathEvalError: Invalid expression

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/lwq/Desktop/myscrapy/myscrapy/spiders/one.py", line 27, in parse
    item['image_urls'] = response.xpath('.//img[@"src"]/src').extract()
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/response/text.py", line 119, in xpath
    return self.selector.xpath(query, **kwargs)
  File "/usr/local/lib/python3.5/dist-packages/parsel/selector.py", line 226, in xpath
    six.reraise(ValueError, ValueError(msg), sys.exc_info()[2])
  File "/usr/lib/python3/dist-packages/six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.5/dist-packages/parsel/selector.py", line 222, in xpath
    **kwargs)
  File "src/lxml/lxml.etree.pyx", line 1587, in lxml.etree._Element.xpath (src/lxml/lxml.etree.c:61854)
  File "src/lxml/xpath.pxi", line 307, in lxml.etree.XPathElementEvaluator.__call__ (src/lxml/lxml.etree.c:178516)
  File "src/lxml/xpath.pxi", line 227, in lxml.etree._XPathEvaluatorBase._handle_result (src/lxml/lxml.etree.c:177421)
ValueError: XPath error: Invalid expression in .//img[@"src"]/src
2017-08-21 16:34:45 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:34:45 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 34, 45, 134110),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 921972736,
 'memusage/startup': 921972736,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'spider_exceptions/ValueError': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 34, 44, 892224)}
2017-08-21 16:34:45 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:37:30 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:37:30 [scrapy.utils.log] INFO: Overridden settings: {'SPIDER_MODULES': ['myscrapy.spiders'], 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'BOT_NAME': 'myscrapy', 'LOG_FILE': 'scrapy.log'}
2017-08-21 16:37:30 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole']
2017-08-21 16:37:30 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:37:30 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:37:30 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:37:30 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:37:30 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:37:30 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:37:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:37:30 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:37:30 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:37:30 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:37:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:37:30 [scrapy.core.scraper] ERROR: Error processing {'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': ['<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140222155840234.jpeg" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140222160217703.jpeg" alt="">',
                '<img src="test_files/20140223184151500.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223180446718.png" alt="">',
                '<img src="test_files/20140223180722687.png" alt="">',
                '<img src="test_files/20140223180822125.png" alt="">',
                '<img src="test_files/20140223185047812.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223184954390.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223193423843.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223202410593.png" alt="">',
                '<img src="test_files/20140223202712468.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223203218843.png" alt="">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 1px; left: 2px;" '
                'src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
                'height="12">',
                '<img style="position: relative; top: 2px; left: 2px;" '
                'src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
                'height="12">',
                '<img src="test_files/20140223211204000.png" alt="">',
                '<img src="test_files/24442-20170816053533459-1918329004.png" '
                'alt="Udacity08.15 - 08.22" width="300" height="250">',
                '<img src="test_files/24442-20170629165247758-2056260207.bin" '
                'alt="极光推广_0701" width="468" height="60">',
                '<img src="test_files/xml.gif" alt="订阅">'],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/media.py", line 79, in process_item
    requests = arg_to_iter(self.get_media_requests(item, info))
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in get_media_requests
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in <listcomp>
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: %3Cimg%20src=%22test_files/20140222155840234.jpeg%22%20alt=%22%22%3E
2017-08-21 16:37:30 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:37:30 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 37, 30, 721998),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 922218496,
 'memusage/startup': 922218496,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 37, 30, 559627)}
2017-08-21 16:37:30 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:38:15 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:38:15 [scrapy.utils.log] INFO: Overridden settings: {'ROBOTSTXT_OBEY': True, 'BOT_NAME': 'myscrapy', 'LOG_FILE': 'scrapy.log', 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'SPIDER_MODULES': ['myscrapy.spiders']}
2017-08-21 16:38:15 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage']
2017-08-21 16:38:15 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:38:15 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:38:15 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:38:15 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:38:15 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:38:15 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:38:15 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:38:15 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:38:15 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:38:15 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:38:15 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:38:15 [scrapy.core.scraper] ERROR: Error processing {'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': ['test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140222155840234.jpeg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140222160217703.jpeg',
                'test_files/20140223184151500.png',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140223180446718.png',
                'test_files/20140223180722687.png',
                'test_files/20140223180822125.png',
                'test_files/20140223185047812.png',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140223184954390.png',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140223193423843.png',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140223202410593.png',
                'test_files/20140223202712468.png',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140223203218843.png',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/CODE_ico.png',
                'test_files/ico_fork.svg',
                'test_files/20140223211204000.png',
                'test_files/24442-20170816053533459-1918329004.png',
                'test_files/24442-20170629165247758-2056260207.bin',
                'test_files/xml.gif'],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/media.py", line 79, in process_item
    requests = arg_to_iter(self.get_media_requests(item, info))
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in get_media_requests
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in <listcomp>
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: test_files/CODE_ico.png
2017-08-21 16:38:15 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:38:15 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 38, 15, 868410),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 923656192,
 'memusage/startup': 923656192,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 38, 15, 715080)}
2017-08-21 16:38:15 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:47:00 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:47:00 [scrapy.utils.log] INFO: Overridden settings: {'BOT_NAME': 'myscrapy', 'ROBOTSTXT_OBEY': True, 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'LOG_FILE': 'scrapy.log', 'SPIDER_MODULES': ['myscrapy.spiders']}
2017-08-21 16:47:00 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole']
2017-08-21 16:47:00 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:47:00 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:47:00 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:47:00 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:47:00 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:47:00 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:47:00 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:00 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:00 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:00 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:00 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:47:01 [scrapy.core.scraper] ERROR: Spider error processing <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/lwq/Desktop/myscrapy/myscrapy/spiders/one.py", line 28, in parse
    item['image_urls'] = ['file:///home/lwq/Desktop/myscrapy/html/' + image_urls]
TypeError: Can't convert 'list' object to str implicitly
2017-08-21 16:47:01 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:47:01 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 47, 1, 175811),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 924418048,
 'memusage/startup': 924418048,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'spider_exceptions/TypeError': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 47, 0, 938564)}
2017-08-21 16:47:01 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:47:46 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:47:46 [scrapy.utils.log] INFO: Overridden settings: {'SPIDER_MODULES': ['myscrapy.spiders'], 'LOG_FILE': 'scrapy.log', 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'ROBOTSTXT_OBEY': True, 'BOT_NAME': 'myscrapy'}
2017-08-21 16:47:46 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage']
2017-08-21 16:47:46 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:47:46 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:47:46 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:47:46 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:47:46 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:47:46 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:47:46 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:46 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:46 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:46 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:47:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:47:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test_files/CODE_ico.png> (referer: None)
2017-08-21 16:47:46 [scrapy.pipelines.files] DEBUG: File (downloaded): Downloaded file from <GET file:///home/lwq/Desktop/myscrapy/html/test_files/CODE_ico.png> referred in <None>
2017-08-21 16:47:46 [PIL.PngImagePlugin] DEBUG: STREAM b'IHDR' 16 13
2017-08-21 16:47:46 [PIL.PngImagePlugin] DEBUG: STREAM b'tEXt' 41 25
2017-08-21 16:47:46 [PIL.PngImagePlugin] DEBUG: STREAM b'iTXt' 78 800
2017-08-21 16:47:46 [PIL.PngImagePlugin] DEBUG: STREAM b'IDAT' 890 301
2017-08-21 16:47:47 [scrapy.core.scraper] DEBUG: Scraped from <200 file:///home/lwq/Desktop/myscrapy/html/test.html>
{'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': ['file:///home/lwq/Desktop/myscrapy/html/test_files/CODE_ico.png'],
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
2017-08-21 16:47:47 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:47:47 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 1114,
 'downloader/request_count': 5,
 'downloader/request_method_count/GET': 5,
 'downloader/response_bytes': 98746,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 2,
 'file_count': 1,
 'file_status_count/downloaded': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 47, 47, 33219),
 'item_scraped_count': 1,
 'log_count/DEBUG': 12,
 'log_count/ERROR': 1,
 'log_count/INFO': 7,
 'memusage/max': 925503488,
 'memusage/startup': 925503488,
 'response_received_count': 2,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 47, 46, 708466)}
2017-08-21 16:47:47 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 16:55:26 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 16:55:26 [scrapy.utils.log] INFO: Overridden settings: {'NEWSPIDER_MODULE': 'myscrapy.spiders', 'LOG_FILE': 'scrapy.log', 'SPIDER_MODULES': ['myscrapy.spiders'], 'ROBOTSTXT_OBEY': True, 'BOT_NAME': 'myscrapy'}
2017-08-21 16:55:26 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.telnet.TelnetConsole']
2017-08-21 16:55:26 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 16:55:26 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 16:55:26 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 16:55:26 [scrapy.core.engine] INFO: Spider opened
2017-08-21 16:55:26 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 16:55:26 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 16:55:26 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:55:26 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:55:26 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:55:26 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 16:55:26 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 16:55:27 [scrapy.core.scraper] ERROR: Spider error processing <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/lwq/Desktop/myscrapy/myscrapy/spiders/one.py", line 29, in parse
    item['image_urls'].append('file:///home/lwq/Desktop/myscrapy/html/' + each)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/item.py", line 59, in __getitem__
    return self._values[key]
KeyError: 'image_urls'
2017-08-21 16:55:27 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 16:55:27 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 8, 55, 27, 210336),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 926752768,
 'memusage/startup': 926752768,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'spider_exceptions/KeyError': 1,
 'start_time': datetime.datetime(2017, 8, 21, 8, 55, 26, 973646)}
2017-08-21 16:55:27 [scrapy.core.engine] INFO: Spider closed (finished)
2017-08-21 17:26:46 [scrapy.utils.log] INFO: Scrapy 1.4.0 started (bot: myscrapy)
2017-08-21 17:26:46 [scrapy.utils.log] INFO: Overridden settings: {'LOG_FILE': 'scrapy.log', 'NEWSPIDER_MODULE': 'myscrapy.spiders', 'ROBOTSTXT_OBEY': True, 'SPIDER_MODULES': ['myscrapy.spiders'], 'BOT_NAME': 'myscrapy'}
2017-08-21 17:26:46 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2017-08-21 17:26:46 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2017-08-21 17:26:46 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2017-08-21 17:26:46 [scrapy.middleware] INFO: Enabled item pipelines:
['scrapy.pipelines.images.ImagesPipeline']
2017-08-21 17:26:46 [scrapy.core.engine] INFO: Spider opened
2017-08-21 17:26:46 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2017-08-21 17:26:46 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023
2017-08-21 17:26:46 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 1 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 17:26:46 [scrapy.downloadermiddlewares.retry] DEBUG: Retrying <GET file:///robots.txt> (failed 2 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 17:26:46 [scrapy.downloadermiddlewares.retry] DEBUG: Gave up retrying <GET file:///robots.txt> (failed 3 times): [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 17:26:46 [scrapy.downloadermiddlewares.robotstxt] ERROR: Error downloading <GET file:///robots.txt>: [Errno 2] No such file or directory: '/robots.txt'
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 1384, in _inlineCallbacks
    result = result.throwExceptionIntoGenerator(g)
  File "/usr/local/lib/python3.5/dist-packages/twisted/python/failure.py", line 393, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/core/downloader/middleware.py", line 43, in process_request
    defer.returnValue((yield download_func(request=request,spider=spider)))
FileNotFoundError: [Errno 2] No such file or directory: '/robots.txt'
2017-08-21 17:26:46 [scrapy.core.engine] DEBUG: Crawled (200) <GET file:///home/lwq/Desktop/myscrapy/html/test.html> (referer: None)
2017-08-21 17:26:46 [scrapy.core.scraper] ERROR: Error processing {'content': '<div id="cnblogs_post_body"><p><span style="font-family: '
            'Microsoft YaHei; font-size: 18px;">我们使用<a '
            'href="http://www.dmoz.org/" '
            'target="_blank">dmoz.org</a>这个网站来作为小抓抓一展身手的对象。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先先要回答一个问题。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">问：把网站装进爬虫里，总共分几步？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">答案很简单，四步：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">新建项目 (Project)：新建一个新的爬虫项目</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">明确目标（Items）：明确你想要抓取的目标</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫（Spider）：制作爬虫开始爬取网页</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">存储内容（Pipeline）：设计管道存储爬取内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">好的，基本流程既然确定了，那接下来就一步一步的完成就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>1.新建项目（Project）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在空目录下按住Shift键右击，选择“在此处打开命令窗口”，输入一下命令：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0startproject\xa0tutorial\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">其中，tutorial为项目名称。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到将会创建一个tutorial文件夹，目录结构如下：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0scrapy.cfg\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0tutorial/\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0__init__.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items.py\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0pipelines.py\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'settings.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0spiders/\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '__init__.py\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面来简单介绍一下各个文件的作用：</span></p>\n'
            '<ul class="simple">\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">scrapy.cfg：项目的配置文件<br>\n'
            '</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/：项目的Python模块，将会从这里引用代码</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/items.py：项目的items文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/pipelines.py：项目的pipelines文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/settings.py：项目的设置文件</span></span></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span class="docutils literal"><span '
            'class="pre">tutorial/spiders/：存储爬虫的目录</span></span></span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>2.明确目标（Item）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrap<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">y中，items是用来加载抓取内容的容器，有点像<a class="replace_word" '
            'style="color: #df3434; font-weight: bold;" title="Python知识库" '
            'href="http://lib.csdn.net/base/11" '
            'target="_blank">Python</a>中的Dic，也就是字典，但是提供了一些额外的保护减少错误。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">一般来说，item可以用<span class="reference '
            'internal">scrapy.item.Item类来创建，并且用<span class="reference '
            'internal">scrapy.item.Field对象来定义属性<span style="font-family: '
            'Microsoft YaHei; font-size: '
            '18px;">（可以理解成类似于ORM的映射关系）。</span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来，我们开始来构建item模型（model）。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，我们想要的内容有：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">名称（name）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">链接（url）</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述（description）</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">修改tutorial目录下的items.py文件，在原本的class后面添加我们自己的class。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为要抓dmoz.org网站的内容，所以我们可以将其命名为DmozItem：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="comment">#\xa0Define\xa0here\xa0'
            'the\xa0models\xa0for\xa0your\xa0scraped\xa0items\xa0\xa0'
            '</span></li>\n'
            '<li><span class="comment">#\xa0\xa0</span></li>\n'
            '<li class="alt"><span class="comment">#\xa0See\xa0'
            'documentation\xa0in:\xa0\xa0</span></li>\n'
            '<li><span class="comment">#\xa0'
            'http://doc.scrapy.org/en/latest/topics/items.html\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0scrapy.item\xa0<span '
            'class="keyword">import\xa0Item,\xa0Field\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0TutorialItem(Item):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="comment">#\xa0'
            'define\xa0the\xa0fields\xa0for\xa0your\xa0item\xa0here\xa0'
            'like:\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="comment">#\xa0name\xa0=\xa0'
            'Field()\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">pass\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozItem(Item):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0title\xa0=\xa0Field()\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0link\xa0=\xa0Field()\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0desc\xa0=\xa0Field()\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">刚开始看起来可能会<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">有些看不懂，但是定义这些item能让你用其他组件的时候知道你的 '
            'items到底是什么。</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以把Item简单的理解成封装好的类对象。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.制作爬虫（Spider）</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">制作爬虫，总体分两步：先爬再取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是说，首先你要获取整个网页的所有内容，然后再取出其中对你有用的部分。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.1爬</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">Spider是用户自己编写的类，用来从一个域（或域组）中抓取信息。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">他们定义了用于下载的URL列表、跟踪链接的方案、解析网页内容的方式，以此来提取items。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要建立一个Spider，你必须用scrapy.spider.BaseSpider创建一个子类，并确定三个强制的属性：</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">name：爬虫的识别名称，必须是唯一的，在不同的爬虫中你必须定义不同的名字。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">start_urls：爬取的URL列表。爬虫从这里开始抓取数据，所以，第一次下载的数据将会从这些urls开始。其他子URL将会从这些起始URL中继承性生成。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">parse()：解析的方法，调用的时候传入从每一个URL传回的Response对象作为唯一参数，负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这里可以参考宽度爬虫教程中提及的思想来帮助理解，<span class="link_title">教程传送：<a '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/18010015" '
            'target="_blank">[Java] 知乎下巴第5集：使用HttpClient工具包和宽度爬虫</a>。<span '
            'style="font-family: Microsoft YaHei; font-size: 18px;"><br>\n'
            '</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">也就是把Url存储下来并依此为起点逐步扩散开去，抓取所有符合条件的网页Url存储起来继续爬取。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们来写第一只爬虫，命名为dmoz_spider.py，保存在tutorial\\spiders目录下。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">dmoz_spider.py<span style="font-family: Microsoft YaHei; '
            'font-size: 18px;">代码如下：</span></span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt"><span class="keyword">class\xa0'
            'DmozSpider(Spider):\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0<span class="keyword">def\xa0'
            'parse(<span class="special">self,\xa0response):\xa0\xa0'
            '</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0filename\xa0=\xa0'
            'response.url.split(<span class="string">"/")[-<span '
            'class="number">2]\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0open(filename,\xa0'
            '<span class="string">\'wb\').write(response.body)\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。</span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从parse函数可以看出，将链接的最后两个地址取出作为文件名进行存储。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后运行一下看看，在tutorial目录下按住shift右击，在此处打开命令窗口，输入：<br>\n'
            '</span></p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如图：</span></span></span></span></p>\n'
            '<p><img src="test_files/20140222155840234.jpeg" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">报错了：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">UnicodeDecodeError: \'ascii\' codec can\'t decode byte '
            '0xb0 in position 1: ordinal\xa0not in range(128)</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行第一个Scrapy项目就报错，真是命运多舛。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">应该是出了编码问题，谷歌了一下找到了解决方案：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: 18px; '
            'line-height: '
            '21px;">在python的Lib\\site-packages文件夹下新建一个sitecustomize.py：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">import\xa0'
            'sys\xa0\xa0\xa0\xa0</span></li>\n'
            '<li>sys.setdefaultencoding(<span '
            'class="string">\'gb2312\')\xa0\xa0\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">再次运行，OK，问题解决了，看一下结果：</span></p>\n'
            '<p><img src="test_files/20140222160217703.jpeg" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">最后一句INFO: Closing spider '
            '(finished)表明爬虫已经成功运行并且自行关闭了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">包含 [dmoz]的行 ，那对应着我们的爬虫运行的结果。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以看到start_urls中定义的每个URL都有日志行。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">还记得我们的start_urls吗？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">http://www.dmoz.org/Computers/Programming/Languages/Python/Books<br>\n'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Resources</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这些URL是起始页面，所以他们没有引用(referrers)，所以在它们的每行末尾你会看到 (referer: '
            '&lt;None&gt;)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在parse 方法的作用下，两个文件被创建：分别是 Books 和 '
            'Resources，这两个文件中有URL的页面内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么在刚刚的电闪雷鸣之中到底发生了什么呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">首先，Scrapy为爬虫的 start_urls属性中的每个URL创建了一个 scrapy.http.Request '
            '对象 ，并将爬虫的parse 方法指定为回调函数。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后，这些 '
            'Request被调度并执行，之后通过parse()方法返回scrapy.http.Response对象，并反馈给爬虫。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.2取</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">爬取整个网页完毕，接下来的就是的取过程了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">光存储一整个网页还是不够用的。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在基础的爬虫里，这一步可以用正则表达式来抓。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里，使用一种叫做 XPath selectors的机制，它基于 '
            'XPath表达式。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想了解更多selectors和其他机制你可以查阅资料：<a '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">点我点我</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这是一些XPath表达式的例子和他们的含义</span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title: 选择HTML文档&lt;head&gt;元素下面的&lt;title&gt; '
            '标签。</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/html/head/title/text(): 选择前面提到的&lt;title&gt; '
            '元素下面的文本内容</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//td: 选择所有 &lt;td&gt; 元素</span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//div[@class="mine"]: 选择所有包含 class="mine" 属性的div '
            '标签元素</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">以上只是几个使用XPath的简单例子，但是实际上XPath非常强大。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以参照W3C教程：<a href="http://www.w3school.com.cn/xpath/" '
            'target="_blank">点我点我</a>。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">为了方便使用XPaths，Scrapy提供XPathSelector '
            '类，有两种可以选择，HtmlXPathSelector(HTML数据解析)和XmlXPathSelector(XML数据解析)。<br></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">必须通过一个 Response 对象对他们进行实例化操作。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">你会发现Selector对象展示了文档的节点结构。因此，第一个实例化的selector必与根节点或者是整个目录有关 '
            '。<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Scrapy里面，Selectors 有四种基础的方法<span style="font-family: '
            'Microsoft YaHei; font-size: 18px;"><span style="font-size: '
            '18px;"><span class="reference internal"><span class="xref py '
            'py-meth docutils literal"><span class="pre">（点击查看API文档）：<a '
            'class="reference internal" title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></span></span></span></span></span></p>\n'
            '<ul>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.xpath" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.xpath" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">xpath()</span></span></a>：返回一系列的selectors，每一个select表示一个xpath参数表达式选择的节点<a '
            'class="reference internal" title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.css" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.css" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">css()</span></span></a>：返回一系列的selectors，每一个select表示一个css参数表达式选择的节点<a '
            'class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.extract" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.extract" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">extract()</span></span></a>：返回一个unicode字符串，为选中的数据<a '
            'class="reference internal" title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span class="pre"><br>\n'
            '</span></span></a></span></li>\n'
            '<li><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><a class="reference internal" '
            'title="scrapy.selector.Selector.re" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#scrapy.selector.Selector.re" '
            'target="_blank"><span class="xref py py-meth docutils '
            'literal"><span '
            'class="pre">re()</span></span></a>：返回一串一个unicode字符串，为使用正则表达式抓取出来的内容</span></li>\n'
            '\n'
            '\n'
            '</ul>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.3xpath实验</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">下面我们在Shell里面尝试一下Selector的用法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">实验的网址：<a '
            'href="http://www.dmoz.org/Computers/Programming/Languages/Python/Books/" '
            'target="_blank">http://www.dmoz.org/Computers/Programming/Languages/Python/Books/</a><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223184151500.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">熟悉完了实验的小白鼠，接下来就是用Shell爬取网页了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">进入到项目的顶层目录，也就是第一层tutorial文件夹下，在cmd中输入：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0shell\xa0'
            'http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\xa0\xa0'
            '</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">回车后可以看到如下的内容：</span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223180446718.png" '
            'alt=""></span></p>\n'
            '<p>\xa0</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在Shell载入后，你将获得response回应，存储在本地变量 response中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">所以如果你输入response.body，你将会看到response的body部分，也就是抓取到的页面内容：</span></p>\n'
            '<p><img src="test_files/20140223180722687.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">或者输入response.headers 来查看它的 header部分：</span></p>\n'
            '<p><img src="test_files/20140223180822125.png" alt=""><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">现在就像是一大堆沙子握在手里，里面藏着我们想要的金子，所以下一步，就是用筛子摇两下，把杂质出去，选出关键的内容。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">selector就是这样一个筛子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在旧的版本中，Shell实例化两种selectors，一个是解析HTML的 hxs 变量，一个是解析XML 的 '
            'xxs 变量。<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">而现在的Shell为我们准备好的selector对象，sel，可以根据返回的数据类型自动选择最佳的解析方案(XML '
            'or HTML)。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后我们来捣弄一下！~</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">要彻底搞清楚这个问题，首先先要知道，抓到的页面到底是个什么样子。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">比如，我们要抓取网页的标题，也就是&lt;title&gt;这个标签：</span></p>\n'
            '<p><img src="test_files/20140223185047812.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以输入：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//title\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">结果就是：</span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223184954390.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这样就能把这个标签取出来了，用extract()和text()还可以进一步做处理。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">备注：简单的罗列一下有用的xpath路径表达式：</span></p>\n'
            '<p>\xa0</p>\n'
            '<table class="dataintable        ">\n'
            '<tbody>\n'
            '<tr><th style="width: 25%;"><span style="font-family: Microsoft '
            'YaHei; font-size: 18px;">表达式</span></th><th><span '
            'style="font-family: Microsoft YaHei; font-size: '
            '18px;">描述</span></th>\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">nodename</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取此节点的所有子节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">/</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从根节点选取。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">//</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">.</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">..</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取当前节点的父节点。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '<tr>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">@</span></td>\n'
            '<td><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">选取属性。</span></td>\n'
            '\n'
            '\n'
            '\n'
            '</tr>\n'
            '\n'
            '\n'
            '\n'
            '</tbody>\n'
            '\n'
            '\n'
            '\n'
            '</table>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">全部的实验结果如下，In[i]表示第i次实验的输入，Out[i]表示第i次结果的输出（建议大家参照：<a '
            'href="http://www.w3school.com.cn/xpath/xpath_nodes.asp" '
            'target="_blank">W3C教程</a>）：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">In\xa0[<span class="number">1]:\xa0'
            'sel.xpath(<span class="string">\'//title\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">1]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title\'\xa0data=u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            "Computers:\xa0Progr'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">2]:\xa0sel.xpath(<span '
            'class="string">\'//title\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">Out[<span class="number">2]:\xa0[u<span '
            'class="string">\'&lt;title&gt;Open\xa0Directory\xa0-\xa0'
            'Computers:\xa0Programming:\xa0Languages:\xa0Python:\xa0'
            "Books&lt;/title&gt;']\xa0\xa0</span></span></li>\n"
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">3]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\')\xa0\xa0'
            '</span></span></li>\n'
            '<li>Out[<span class="number">3]:\xa0[&lt;Selector\xa0xpath=<span '
            'class="string">\'//title/text()\'\xa0data=u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:'&gt;]\xa0\xa0</span></span></span></li>\n"
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>In\xa0[<span class="number">4]:\xa0sel.xpath(<span '
            'class="string">\'//title/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">Out[<span class="number">4]:\xa0[u<span '
            'class="string">\'Open\xa0Directory\xa0-\xa0Computers:\xa0'
            "Programming:\xa0Languages:\xa0Python:\xa0Books']\xa0\xa0"
            '</span></span></li>\n'
            '<li>\xa0\xa0</li>\n'
            '<li class="alt">In\xa0[<span class="number">5]:\xa0'
            'sel.xpath(<span class="string">\'//title/text()\').re(<span '
            'class="string">\'(\\w+):\')\xa0\xa0</span></span></span></li>\n'
            '<li>Out[<span class="number">5]:\xa0[u<span '
            'class="string">\'Computers\',\xa0u<span '
            'class="string">\'Programming\',\xa0u<span '
            'class="string">\'Languages\',\xa0u<span '
            'class="string">\'Python\']\xa0\xa0'
            '</span></span></span></span></span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然title这个标签对我们来说没有太多的价值，下面我们就来真正抓取一些有意义的东西。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">使用火狐的审查元素我们可以清楚地看到，我们需要的东西如下：</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><img src="test_files/20140223193423843.png" alt=""><br>\n'
            '</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们可以用如下代码来抓取这个&lt;li&gt;标签：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">从&lt;li&gt;标签中，可以这样获取网站的描述：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/text()\').extract()\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br>\n'
            '</span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的标题：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">可以这样获取网站的超链接：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">sel.xpath(<span '
            'class="string">\'//ul/li/a/@href\').extract()\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">当然，前面的这些例子是直接获取属性的方法。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们注意到xpath返回了一个对象列表，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么我们也可以直接调用这个列表中对象的属性挖掘更深的节点<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">（参考：<a class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-nesting-selectors" '
            'target="_blank"><em>Nesting selectors</em></a> and<a '
            'class="reference internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors-relative-xpaths" '
            'target="_blank"><em>Working\n'
            ' with relative XPaths</em></a> in the <a class="reference '
            'internal" '
            'href="http://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors" '
            'target="_blank">\n'
            '<em>Selectors</em></a>）：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="highlight-python">\n'
            '<div class="highlight">\n'
            '<pre><span class="n">sites <span class="o">= <span '
            'class="n">sel<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'//ul/li\'<span class="p">)\n'
            '<span class="k">for <span class="n">site <span class="ow">in '
            '<span class="n">sites<span class="p">:\n'
            '    <span class="n">title <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">link <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'a/@href\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="n">desc <span class="o">= <span '
            'class="n">site<span class="o">.<span class="n">xpath<span '
            'class="p">(<span class="s">\'text()\'<span class="p">)<span '
            'class="o">.<span class="n">extract<span class="p">()\n'
            '    <span class="k">print <span class="n">title<span class="p">, '
            '<span class="n">link<span class="p">, <span class="n">desc\n'
            '</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n'
            '</div>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><strong><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">3.4xpath实战</span></strong></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们用shell做了这么久的实战，最后我们可以把前面学习到的内容应用到dmoz_spider这个爬虫中。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">在原爬虫的parse函数中做如下修改：</span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul/li\')\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '</ol></div>\n'
            '<p> <span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">注意，我们从scrapy.selector中导入了Selector类，并且实例化了一个新的Selector对象。这样我们就可以像Shell中一样操作xpath了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们来试着输入一下命令运行爬虫（在tutorial根目录里面）：<br>\n'
            '</span></p>\n'
            '<div class="highlight-python">\n'
            '<pre>scrapy crawl dmoz</pre>\n'
            '</div>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\xa0'
            '</span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">运行结果如下：</span></p>\n'
            '<p><img src="test_files/20140223202410593.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">果然，成功的抓到了所有的标题。但是好像不太对啊，怎么Top，Python这种导航栏也抓取出来了呢？</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们只需要红圈中的内容：</span></p>\n'
            '<p><img src="test_files/20140223202712468.png" alt=""><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">看来是我们的xpath语句有点问题，没有仅仅把我们需要的项目名称抓取出来，也抓了一些无辜的但是xpath语法相同的元素。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">审查元素我们发现我们需要的&lt;ul&gt;具有class=\'directory-url\'的属性，</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">那么只要把xpath语句改成sel.xpath(\'//ul[@class="directory-url"]/li\')即可<br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">将xpath语句做如下调整：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">for\xa0site\xa0<span class="keyword">in\xa0'
            'sites:\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0title\xa0=\xa0'
            'site.xpath(<span class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'link\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0desc\xa0=\xa0'
            'site.xpath(<span class="string">\'text()\').extract()\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            '<span class="keyword">print\xa0title\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">成功抓出了所有的标题，绝对没有滥杀无辜：</span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><img src="test_files/20140223203218843.png" alt=""></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>3.5使用Item</strong><br>\n'
            '</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">接下来我们来看一看如何使用Item。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">前面我们说过，Item '
            '对象是自定义的python字典，可以使用标准字典语法获取某个属性的值：</span></p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item\xa0=\xa0DmozItem()\xa0\xa0'
            '</li>\n'
            '<li>&gt;&gt;&gt;\xa0item[<span class="string">\'title\']\xa0=\xa0'
            '<span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">&gt;&gt;&gt;\xa0item[<span '
            'class="string">\'title\']\xa0\xa0</span></li>\n'
            '<li><span class="string">\'Example\xa0title\'\xa0\xa0'
            '</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">作为一只爬虫，Spiders希望能将其抓取的数据存放到Item对象中。为了返回我们抓取数据，spider的最终代码应当是这样:<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p>\xa0</p>\n'
            '<div class="dp-highlighter bg_python">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[python]</strong> <a '
            'class="ViewSource" title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol class="dp-py" start="1">\n'
            '<li class="alt"><span class="keyword">from\xa0scrapy.spider\xa0'
            '<span class="keyword">import\xa0Spider\xa0\xa0'
            '</span></span></li>\n'
            '<li><span class="keyword">from\xa0scrapy.selector\xa0<span '
            'class="keyword">import\xa0Selector\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">from\xa0tutorial.items\xa0<span '
            'class="keyword">import\xa0DmozItem\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li><span class="keyword">class\xa0DmozSpider(Spider):\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0name\xa0=\xa0<span '
            'class="string">"dmoz"\xa0\xa0</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0allowed_domains\xa0=\xa0[<span '
            'class="string">"dmoz.org"]\xa0\xa0</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0start_urls\xa0=\xa0[\xa0\xa0'
            '</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/",\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="string">"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/"\xa0\xa0'
            '</span></li>\n'
            '<li>\xa0\xa0\xa0\xa0]\xa0\xa0</li>\n'
            '<li class="alt">\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0<span class="keyword">def\xa0parse(<span '
            'class="special">self,\xa0response):\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sel\xa0=\xa0'
            'Selector(response)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0sites\xa0=\xa0sel.xpath(<span '
            'class="string">\'//ul[@class="directory-url"]/li\')\xa0\xa0'
            '</span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0items\xa0=\xa0'
            '[]\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span class="keyword">for\xa0'
            'site\xa0<span class="keyword">in\xa0sites:\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item\xa0=\xa0DmozItem()\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'title\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/text()\').extract()\xa0\xa0'
            '</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'item[<span class="string">\'link\']\xa0=\xa0site.xpath(<span '
            'class="string">\'a/@href\').extract()\xa0\xa0</span></span></li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0item[<span '
            'class="string">\'desc\']\xa0=\xa0site.xpath(<span '
            'class="string">\'text()\').extract()\xa0\xa0</span></span></li>\n'
            '<li class="alt">\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0'
            'items.append(item)\xa0\xa0</li>\n'
            '<li>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0<span '
            'class="keyword">return\xa0items\xa0\xa0</span></li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '<br></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><strong>4.存储内容（Pipeline）</strong></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">保存信息的最简单的方法是通过<a '
            'href="http://doc.scrapy.org/en/0.14/topics/feed-exports.html#topics-feed-exports" '
            'target="_blank"><em>Feed exports</em></a>，主要有四种：JSON，JSON '
            'lines，CSV，XML。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">我们将结果用最常用的JSON导出，命令如下：</span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<div class="dp-highlighter bg_plain">\n'
            '<div class="bar">\n'
            '<div class="tools"><strong>[plain]</strong> <a class="ViewSource" '
            'title="view plain" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">view '
            'plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" '
            'title="copy" '
            'href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329/">copy</a><span '
            'data-mod="popu_169"> <span class="tracking-ad" '
            'data-mod="popu_167"><a style="text-indent: 0;" '
            'title="在CODE上查看代码片" href="https://code.csdn.net/snippets/201087" '
            'target="_blank"><img style="position: relative; top: 1px; left: '
            '2px;" src="test_files/CODE_ico.png" alt="在CODE上查看代码片" width="12" '
            'height="12"></a><span class="tracking-ad" data-mod="popu_170"><a '
            'style="text-indent: 0;" title="派生到我的代码片" '
            'href="https://code.csdn.net/snippets/201087/fork" '
            'target="_blank"><img style="position: relative; top: 2px; left: '
            '2px;" src="test_files/ico_fork.svg" alt="派生到我的代码片" width="12" '
            'height="12"></a></span></span></span></span></div>\n'
            '\n'
            '\n'
            '</div>\n'
            '<ol start="1">\n'
            '<li class="alt">scrapy\xa0crawl\xa0dmoz\xa0-o\xa0items.json\xa0'
            '-t\xa0json\xa0\xa0</li>\n'
            '\n'
            '\n'
            '</ol></div>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><br>\n'
            '</span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">-o 后面是导出文件名，-t 后面是导出类型。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">然后来看一下导出的结果，用文本编辑器打开json文件即可（为了方便显示，在item中删去了除了title之外的属性）：</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<img src="test_files/20140223211204000.png" '
            'alt=""><br></span></span></span></span></span></span></span></span></span></span></span></span></p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><br>\n'
            '</p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">因为这个只是一个小型的例子，所以这样简单的处理就可以了。</span></p>\n'
            '<p><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">如果你想用抓取的items做更复杂的事情，你可以写一个 Item '
            'Pipeline(条目管道)。</span></p>\n'
            '<p>\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;"><span style="font-family: Microsoft YaHei; font-size: '
            '18px;">\n'
            '<span style="font-family: Microsoft YaHei; font-size: '
            '18px;">这个我们以后再慢慢玩^_^</span></span></span></span></span></span></span></span></span></span></span></span></p></div>',
 'image_urls': 'file:///home/lwq/Desktop/myscrapy/html/test_files/CODE_ico.png',
 'title': '爬虫框架Scrapy的第一个爬虫示例入门教程'}
Traceback (most recent call last):
  File "/usr/local/lib/python3.5/dist-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/media.py", line 79, in process_item
    requests = arg_to_iter(self.get_media_requests(item, info))
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in get_media_requests
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/pipelines/images.py", line 152, in <listcomp>
    return [Request(x) for x in item.get(self.images_urls_field, [])]
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/usr/local/lib/python3.5/dist-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: f
2017-08-21 17:26:46 [scrapy.core.engine] INFO: Closing spider (finished)
2017-08-21 17:26:46 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/exception_count': 3,
 'downloader/exception_type_count/builtins.FileNotFoundError': 3,
 'downloader/request_bytes': 862,
 'downloader/request_count': 4,
 'downloader/request_method_count/GET': 4,
 'downloader/response_bytes': 97520,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 21, 9, 26, 46, 398978),
 'log_count/DEBUG': 5,
 'log_count/ERROR': 2,
 'log_count/INFO': 7,
 'memusage/max': 939278336,
 'memusage/startup': 939278336,
 'response_received_count': 1,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/builtins.FileNotFoundError': 2,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2017, 8, 21, 9, 26, 46, 250646)}
2017-08-21 17:26:46 [scrapy.core.engine] INFO: Spider closed (finished)
